function SimpleReverb(e,t){this.input=this.output=e.createConvolver(),this._context=e;var s=this.meta.params;t=t||{},this._seconds=t.seconds||s.seconds.defaultValue,this._decay=t.decay||s.decay.defaultValue,this._reverse=t.reverse||s.reverse.defaultValue,this._buildImpulse()}SimpleReverb.prototype=Object.create(null,{connect:{value:function(e){this.output.connect(e.input?e.input:e)}},disconnect:{value:function(){this.output.disconnect()}},_buildImpulse:{value:function(){var e,t,s=this._context.sampleRate,n=s*this.seconds,a=this.decay,u=this._context.createBuffer(2,n,s),i=u.getChannelData(0),r=u.getChannelData(1);for(t=0;n>t;t++)e=this.reverse?n-t:t,i[t]=(2*Math.random()-1)*Math.pow(1-e/n,a),r[t]=(2*Math.random()-1)*Math.pow(1-e/n,a);this.input.buffer=u}},meta:{value:{name:"SimpleReverb",params:{seconds:{min:1,max:50,defaultValue:3,type:"float"},decay:{min:0,max:100,defaultValue:2,type:"float"},reverse:{min:0,max:1,defaultValue:0,type:"bool"}}}},seconds:{enumerable:!0,get:function(){return this._seconds},set:function(e){this._seconds=e,this._buildImpulse()}},decay:{enumerable:!0,get:function(){return this._decay},set:function(e){this._decay=e,this._buildImpulse()}},reverse:{enumerable:!0,get:function(){return this._reverse},set:function(e){this._reverse=e,this._buildImpulse()}}});